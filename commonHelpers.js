import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{i as u}from"./assets/vendor-ad859c2f.js";import{m as p}from"./assets/render-functions-42960d18.js";const f="43795533-00e69c3734dde476e8d836fd2",h="https://pixabay.com/api/",v=a=>{const e=new URLSearchParams({key:f,q:a,orientation:"horizontal",safesearch:!0});return fetch(`${h}?${e.toString()}`).then(t=>{if(!t.ok)throw new Error;return t.json()})};function m(){document.querySelectorAll(".add-wrap-item").forEach(e=>{let t=0;e.addEventListener("click",r=>{const i=r.target.closest(".add-wrap-img-icon-left");r.target.closest(".add-wrap-img-icon-right")?d(r,++t):i&&d(r,--t)})})}m();function d(a,e){const t=a.target.closest(".add-wrap-item"),r=t.querySelector(".form-control").value.trim();if(!r)return;const i=t.querySelector(".add-search-img"),s=t.querySelector(".add-wrap-img-icon-left"),o=t.querySelector(".add-wrap-img-icon-right");v(r).then(({hits:l})=>{if(!l.length){u.warning({message:`Will not finding picture to word ${r}`,position:"topRight"}),o.classList.add("add-wrap-img-icon-not-active"),s.classList.add("add-wrap-img-icon-not-active");return}if(e>=l.length){o.classList.add("add-wrap-img-icon-not-active");return}else o.classList.contains("add-wrap-img-icon-not-active")&&o.classList.remove("add-wrap-img-icon-not-active");e<=0?s.classList.add("add-wrap-img-icon-not-active"):s.classList.contains("add-wrap-img-icon-not-active")&&s.classList.remove("add-wrap-img-icon-not-active"),i.src=l[e].webformatURL}).catch(l=>console.log(l))}const n=document.querySelector(".model-create-form"),c={title:"Title",number:"00",progress:"00",time:"00.00",Original:[],Translate:[],linkOnImg:[]},g=JSON.parse(localStorage.getItem("cardInfoSave"))||[];n.addEventListener("submit",a=>{a.preventDefault();const e=n.elements.titleTask.value.trim(),t=n.elements.wordCounter.value.trim(),r=n.elements.original,i=n.elements.translate,s=n.querySelectorAll(".add-search-img");c.title=e,c.number=t,r.forEach(o=>c.Original.push(o.value.trim())),i.forEach(o=>c.Translate.push(o.value.trim())),s.forEach(o=>c.linkOnImg.push(o.src)),g.push(c),localStorage.setItem("cardInfoSave",JSON.stringify(g))});n.elements.wordCounter.addEventListener("input",a=>{const e=a.target.value,t=n.children.length-1,r=e-t;if(e>=10)n.insertAdjacentHTML("beforeend",p(r)),m();else{u.error({message:"Minimum 10 words",position:"topRight"}),a.target.value=10;return}if(r<0){[...n.children].splice(r).forEach(s=>s.remove()),m();return}});n.addEventListener("click",a=>{const e=a.target,t=e.closest(".add-wrap-img-icon-left"),r=e.closest(".add-wrap-img-icon-right");e.nodeName!=="INPUT"&&!t&&!r||e.name==="original"&&(e.removeEventListener("blur",i=>d(i,0)),e.addEventListener("blur",i=>d(i,0)))});
//# sourceMappingURL=commonHelpers.js.map
