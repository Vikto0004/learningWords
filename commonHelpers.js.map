{"version":3,"file":"commonHelpers.js","sources":["../src/js/create-word-task.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elBtnCreateOpen = document.querySelector('.btn-create');\nconst elBtnCreateClose = document.querySelector('.model-create-close');\nconst elCreateContainer = document.querySelector('.model-create-container');\nconst elWordCounter = document.querySelector('#wordCounter');\nconst elTitleTask = document.querySelector('#titleTask');\nconst elModelCreateList = document.querySelector('.model-create-list');\nconst elModelCreateForm = document.querySelector('.model-create-form');\n\nconst elWrapTaskes = document.querySelector('.wrap-taskes');\nconst elContainerTask = document.querySelector('.task-container');\nconst elWrapTaskTitle = document.querySelector('.task-title');\nconst elWordCounterTask = document.querySelectorAll('#wordCounterTask');\n\nconst elDropWarp = document.querySelector('.drop-warp');\nconst elBackgropCreate = document.querySelector('.js-backgrop-model-create');\nconst elBackgropQustione = document.querySelector('.js-backgrop-qustione');\n\nconst qustWrap = {\n  elWrap: document.querySelector('.qustione-wrap'),\n  elDropChoose: document.querySelector('.drop-warp-choose span'),\n  elComesChoose: document.querySelector('.comes-choose'),\n  elDropIcon: document.querySelector('.drop-warp-icon '),\n  langOf: document.querySelector('.choose-lang-of'),\n  langOn: document.querySelector('.choose-lang-on'),\n  langRes: document.querySelector('.res-lang'),\n};\n\nconst optionsTask = {\n  mode: 'Choose word',\n  lang: 'Ukraine',\n};\n\nelBtnCreateOpen.addEventListener('click', () => {\n  elBackgropCreate.classList.add('is-open');\n});\n\nelBtnCreateClose.addEventListener('click', () => {\n  elBackgropCreate.classList.remove('is-open');\n});\n\n//* Adding and subtruction input for word in \"modal create\"\nelWordCounter.addEventListener('input', event => {\n  const numberItems =\n    event.currentTarget.value - elModelCreateList.children.length;\n\n  if (numberItems === 0) return;\n  else if (numberItems < 0) {\n    const arrChildrenList = [...elModelCreateList.children];\n    arrChildrenList.splice(numberItems).forEach(item => item.remove());\n    return;\n  }\n\n  let elItemsList = '';\n  for (let i = 0; i < numberItems; i++) {\n    elItemsList +=\n      '<li><input type=\"text\" name=\"engl\" required /><input type=\"text\" name=\"ukr\" required /></li>';\n  }\n\n  elModelCreateList.insertAdjacentHTML('beforeend', elItemsList);\n  elItemsList = '';\n});\n\n//* Adding word in local storage\nelModelCreateForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const saveWord = JSON.parse(localStorage.getItem('saveWordLocal')) || [];\n  const InpTitleVal = elTitleTask.value.trim();\n  const wordCounter = elWordCounter.value.trim().padStart(2, '0');\n\n  if (!InpTitleVal) {\n    iziToast.error({\n      message: 'Enter title to task',\n      position: 'topRight',\n    });\n    return;\n  } else if (wordCounter < 2) {\n    iziToast.error({\n      message: 'The number must not be less than 2',\n      position: 'topRight',\n    });\n    return;\n  } else if (saveWord.some(({ title }) => title === InpTitleVal)) {\n    iziToast.error({\n      message: 'This title is already in use',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const arrEnglWord = [...elModelCreateForm.elements.engl].map(el =>\n    el.value.trim()\n  );\n  const arrUkrWord = [...elModelCreateForm.elements.ukr].map(el =>\n    el.value.trim()\n  );\n\n  saveWord.push({\n    title: InpTitleVal,\n    englWord: arrEnglWord,\n    ukrWord: arrUkrWord,\n  });\n  localStorage.setItem('saveWordLocal', JSON.stringify(saveWord));\n\n  elWrapTaskes.insertAdjacentHTML(\n    'beforeend',\n    addingWrapTask(InpTitleVal, wordCounter)\n  );\n\n  iziToast.success({\n    message: \"You successfully adding it's task\",\n    position: 'topRight',\n  });\n  elTitleTask.value = '';\n  elModelCreateForm.reset();\n  elCreateContainer.classList.remove('is-open');\n});\n\n//* Return string wrap task\nfunction addingWrapTask(title, wordCounter) {\n  elWrapTaskTitle.textContent = title;\n  elWordCounterTask.forEach(el => (el.textContent = wordCounter));\n  return `<div class=\"task-container\">${elContainerTask.innerHTML}</div>`;\n}\n\n//* Adding all wrap task\nconst getSaveWord = JSON.parse(localStorage.getItem('saveWordLocal')) || [];\nif (getSaveWord.length) {\n  const taskWrapAll = getSaveWord\n    .map(({ title, ukrWord }) => {\n      return addingWrapTask(title, String(ukrWord.length).padStart(2, '0'));\n    })\n    .join('');\n\n  elWrapTaskes.innerHTML = taskWrapAll;\n}\n\nelWrapTaskes.addEventListener('click', event => {\n  if (event.target.nodeName !== 'BUTTON') return;\n\n  //* Giving current elements\n  const elWrap = event.target.closest('.task-container');\n  const wrapTitle = elWrap.querySelector('.task-title').textContent;\n  const currentBtn = event.target.textContent;\n\n  //* Delete wrap\n  if (currentBtn === 'Delete') {\n    const getSaveWord = JSON.parse(localStorage.getItem('saveWordLocal'));\n    const upSaveWord = getSaveWord.filter(({ title }) => title !== wrapTitle);\n\n    localStorage.setItem('saveWordLocal', JSON.stringify(upSaveWord));\n    elWrap.remove();\n\n    iziToast.info({\n      message: `Task ${wrapTitle} was deleted`,\n      position: 'topRight',\n    });\n  } else if (currentBtn === 'Start') {\n    elBackgropQustione.classList.add('is-open');\n\n    $('#accordion').accordion({\n      collapsible: true,\n      active: false,\n      icons: false,\n      beforeActivate: () => {\n        qustWrap.elDropIcon.classList.toggle('drop-warp-icon-active');\n      },\n    });\n\n    const getSaveWord = JSON.parse(localStorage.getItem('saveWordLocal'));\n    getSaveWord.forEach(({ title, englWord, ukrWord }) => {\n      if (title === wrapTitle) {\n        optionsTask.title = wrapTitle;\n        optionsTask.ukrWord = ukrWord;\n        optionsTask.englWord = englWord;\n        return;\n      }\n    });\n  }\n});\n\n//* Operations in settings options task\nqustWrap.elWrap.addEventListener('click', event => {\n  const elTarget = event.target;\n  if (elTarget.nodeName !== 'BUTTON' && !elTarget.closest('.qust-res-icon-btn'))\n    return;\n\n  //* Choose options in drop-list\n  const awardingAndClose = text => {\n    qustWrap.elComesChoose.textContent = text + ':';\n    qustWrap.elDropChoose.textContent = text;\n    optionsTask.mode = text;\n    $('#accordion').accordion('option', 'active', false);\n  };\n\n  if (elTarget.textContent === 'Choose word') {\n    awardingAndClose('Choose word');\n    return;\n  } else if (elTarget.textContent === 'Enter word') {\n    awardingAndClose('Enter word');\n    return;\n  } else if (elTarget.textContent === 'Mixed') {\n    awardingAndClose('Mixed');\n    return;\n  }\n\n  //* Choose lang of/on\n  if (elTarget.closest('.qust-res-icon-btn')) {\n    const langOfText = qustWrap.langOf.textContent;\n    const langOnText = qustWrap.langOn.textContent;\n    optionsTask.lang = langOfText;\n\n    qustWrap.langOf.textContent = langOnText;\n    qustWrap.langOn.textContent = langOfText;\n    qustWrap.langRes.textContent = langOfText;\n    return;\n  }\n});\n"],"names":["elBtnCreateOpen","elBtnCreateClose","elCreateContainer","elWordCounter","elTitleTask","elModelCreateList","elModelCreateForm","elWrapTaskes","elContainerTask","elWrapTaskTitle","elWordCounterTask","elBackgropCreate","elBackgropQustione","qustWrap","event","numberItems","item","elItemsList","i","saveWord","InpTitleVal","wordCounter","iziToast","title","arrEnglWord","el","arrUkrWord","addingWrapTask","getSaveWord","taskWrapAll","ukrWord","elWrap","wrapTitle","currentBtn","upSaveWord","englWord","elTarget","awardingAndClose","text","langOfText","langOnText"],"mappings":"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"}