{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/add-img-in-card.js","../src/js/create-task.js"],"sourcesContent":["const API_KEY = '43795533-00e69c3734dde476e8d836fd2';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const promiseWordSearch = wordSearch => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: wordSearch,\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n};\n","import { promiseWordSearch } from './pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function resetElWrapItem() {\n  const elWrapItem = document.querySelectorAll('.add-wrap-item');\n  elWrapItem.forEach(el => {\n    let index = 0;\n\n    el.addEventListener('click', e => {\n      const elBtnLeft = e.target.closest('.add-wrap-img-icon-left');\n      const elBtnRight = e.target.closest('.add-wrap-img-icon-right');\n\n      if (elBtnRight) {\n        valueInpForSearchImg(e, ++index);\n      } else if (elBtnLeft) {\n        valueInpForSearchImg(e, --index);\n      }\n    });\n  });\n}\nresetElWrapItem();\n\nexport function valueInpForSearchImg(e, index) {\n  const elAddWrap = e.target.closest('.add-wrap-item');\n  const word = elAddWrap.querySelector('.form-control').value.trim();\n  if (!word) return;\n\n  const elSearchImg = elAddWrap.querySelector('.add-search-img');\n  const elBtnLeft = elAddWrap.querySelector('.add-wrap-img-icon-left');\n  const elBtnRight = elAddWrap.querySelector('.add-wrap-img-icon-right');\n\n  promiseWordSearch(word)\n    .then(({ hits }) => {\n      if (!hits.length) {\n        iziToast.warning({\n          message: `Will not finding picture to word ${word}`,\n          position: 'topRight',\n        });\n        elBtnRight.classList.add('add-wrap-img-icon-not-active');\n        elBtnLeft.classList.add('add-wrap-img-icon-not-active');\n        return;\n      }\n\n      if (index >= hits.length) {\n        elBtnRight.classList.add('add-wrap-img-icon-not-active');\n        return;\n      } else if (\n        elBtnRight.classList.contains('add-wrap-img-icon-not-active')\n      ) {\n        elBtnRight.classList.remove('add-wrap-img-icon-not-active');\n      }\n\n      if (index <= 0) {\n        elBtnLeft.classList.add('add-wrap-img-icon-not-active');\n      } else if (elBtnLeft.classList.contains('add-wrap-img-icon-not-active')) {\n        elBtnLeft.classList.remove('add-wrap-img-icon-not-active');\n      }\n\n      elSearchImg.src = hits[index].webformatURL;\n    })\n    .catch(error => console.log(error));\n}\n","import { valueInpForSearchImg } from './add-img-in-card';\nimport { markupAddCard } from './render-functions';\nimport { resetElWrapItem } from './add-img-in-card';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elCardFormToAdd = document.querySelector('.model-create-form');\n\nconst cardSave = {\n  title: 'Title',\n  number: '00',\n  progress: '00',\n  time: '00.00',\n  Original: [],\n  Translate: [],\n  linkOnImg: [],\n};\n\nconst arrCardSave = JSON.parse(localStorage.getItem('cardInfoSave')) || [];\n\n//* Saving data from inputs\nelCardFormToAdd.addEventListener('submit', event => {\n  event.preventDefault();\n  const titleCard = elCardFormToAdd.elements.titleTask.value.trim();\n  const countWord = elCardFormToAdd.elements.wordCounter.value.trim();\n  const original = elCardFormToAdd.elements.original;\n  const translate = elCardFormToAdd.elements.translate;\n  const images = elCardFormToAdd.querySelectorAll('.add-search-img');\n\n  cardSave.title = titleCard;\n  cardSave.number = countWord;\n  original.forEach(el => cardSave.Original.push(el.value.trim()));\n  translate.forEach(el => cardSave.Translate.push(el.value.trim()));\n  images.forEach(el => cardSave.linkOnImg.push(el.src));\n\n  arrCardSave.push(cardSave);\n  localStorage.setItem('cardInfoSave', JSON.stringify(arrCardSave));\n});\n\n//* Adding and subtruction input for word in \"add-words\"\nelCardFormToAdd.elements.wordCounter.addEventListener('input', e => {\n  const valInp = e.target.value;\n  const nmbChildren = elCardFormToAdd.children.length - 1;\n  const numberItems = valInp - nmbChildren;\n\n  if (valInp >= 10) {\n    elCardFormToAdd.insertAdjacentHTML('beforeend', markupAddCard(numberItems));\n    resetElWrapItem();\n  } else {\n    iziToast.error({\n      message: 'Minimum 10 words',\n      position: 'topRight',\n    });\n    e.target.value = 10;\n    return;\n  }\n  if (numberItems < 0) {\n    const arrChildrenList = [...elCardFormToAdd.children];\n    arrChildrenList.splice(numberItems).forEach(item => item.remove());\n    resetElWrapItem();\n    return;\n  }\n});\n\n//* Adding image by word\nelCardFormToAdd.addEventListener('click', event => {\n  const elTarget = event.target;\n  const elBtnLeft = elTarget.closest('.add-wrap-img-icon-left');\n  const elBtnRight = elTarget.closest('.add-wrap-img-icon-right');\n\n  if (elTarget.nodeName !== 'INPUT' && !elBtnLeft && !elBtnRight) return;\n\n  if (elTarget.name === 'original') {\n    elTarget.removeEventListener('blur', e => valueInpForSearchImg(e, 0));\n    elTarget.addEventListener('blur', e => valueInpForSearchImg(e, 0));\n  } else if (elBtnRight) {\n  }\n});\n"],"names":["API_KEY","BASE_URL","promiseWordSearch","wordSearch","searchParams","response","resetElWrapItem","el","index","e","elBtnLeft","valueInpForSearchImg","elAddWrap","word","elSearchImg","elBtnRight","hits","iziToast","error","elCardFormToAdd","cardSave","arrCardSave","event","titleCard","countWord","original","translate","images","valInp","nmbChildren","numberItems","markupAddCard","item","elTarget"],"mappings":"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"}